---
// src/pages/404.astro
import Layout from '../layouts/BaseLayout.astro';
import { nama, url } from '../utils/site'; // Hanya nama dan url yang diperlukan

export const prerender = true;

// Breadcrumbs untuk halaman 404
const breadcrumbs = [
  { name: 'Home', url: `${url}` },
  { name: 'Halaman Tidak Ditemukan' }, // Halaman saat ini tidak memiliki URL internal yang harus ditautkan
];

// Schema BreadcrumbList untuk SEO
const schemaBreadcrumb = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": breadcrumbs.map((item, index) => ({
    "@type": "ListItem",
    "position": index + 1,
    "name": item.name,
    // Jika item.url ada, tambahkan properti 'item'
    ...(item.url && { "item": item.url })
  }))
};

// Array schema untuk diteruskan ke Layout
const pageSchemas = [
  schemaBreadcrumb
];
---

<Layout
  title={`404 - Halaman Tidak Ditemukan | ${nama}`}
  description={`Maaf, halaman yang Anda cari tidak dapat ditemukan di ${nama}.`}
  siteName={nama}
  siteUrl={url}
  schemaJsonLd={pageSchemas}
>
  <main class="not-found-page">
    <nav class="breadcrumb" aria-label="breadcrumb">
      <ol>
        {breadcrumbs.map((item, index) => (
          <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            {index > 0 && <span class="separator">/</span>}
            {item.url ? (
              <a itemprop="item" href={item.url}>
                <span itemprop="name">{item.name}</span>
              </a>
            ) : (
              <span itemprop="name">{item.name}</span>
            )}
            <meta itemprop="position" content={(index + 1).toString()} />
          </li>
        ))}
      </ol>
    </nav>

    <div class="not-found-content">
      <h1 class="not-found-title">404</h1>
      <p class="not-found-message">Maaf, halaman yang Anda cari tidak dapat ditemukan.</p>
      <p class="not-found-suggestion">Mungkin URL-nya salah ketik atau halaman telah dipindahkan.</p>
    </div>
    
    <a href="/" class="button-primary">Kembali ke Beranda</a>

  </main>
</Layout>
